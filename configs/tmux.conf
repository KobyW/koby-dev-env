## General Tmux Config:

# Colors / terminal
set -g default-terminal "tmux-256color"
set-option -sa terminal-overrides ",xterm-256color:RGB"

# Default shell
set-option -g default-shell /bin/zsh

# Faster escape handling (better for Vim etc.)
set -sg escape-time 10

# Status bar refresh
set -g status-interval 1

# Window / pane indices start at 1
set -g base-index 1
setw -g pane-base-index 1

# History & mouse
set -g history-limit 100000
set -g mouse on

# Keep window numbers compact after closing one
set -g renumber-windows on

# Navigate panes with Vim keys after pressing the prefix (repeatable)
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Sourced ~/.tmux.conf"

# -------------------------------------------------------------------
# TMUX PLUGINS (TPM + Catppuccin)
# -------------------------------------------------------------------
set -g @tpm_plugins '          \
  tmux-plugins/tpm             \
  tmux-plugins/tmux-sensible   \
  catppuccin/tmux              \
'

# Catppuccin status bar tweaks
set -g @catppuccin_window_right_separator "#[fg=#313244,bg=#181825]█ "
set -g @catppuccin_status_left_separator "█"
set -g @catppuccin_status_left_separator "#[bg=#181825] █"
set -g @catppuccin_window_current_fill "number"

set -g @catppuccin_status_left_separator_inverse "no"
set -g @catppuccin_status_fill "all"
set -g @catppuccin_status_modules_right "directory session user host"
set -g @catppuccin_directory_text "#{pane_current_path}"
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_current_text "#W"

# -------------------------------------------------------------------
# Visibility / overlays
# -------------------------------------------------------------------
# Dim inactive panes instead of solid bg color
set -g window-style 'fg=default,dim'
set -g window-active-style 'fg=default,nodim'

# Overlay when pressing prefix-q: longer and colored
set -g display-panes-colour 'colour240'
set -g display-panes-active-colour 'colour45'
bind q display-panes -d 3000

# -------------------------------------------------------------------
# Initialize TMUX plugin manager
# -------------------------------------------------------------------
run '~/.tmux/plugins/tpm/tpm'

# -------------------------------------------------------------------
# Pane styling (override Catppuccin defaults)
# -------------------------------------------------------------------
# Border colors
set -g pane-border-style 'fg=colour238'        # inactive border
set -g pane-active-border-style 'fg=colour45'  # active border

# Show pane label bar at top
set -g pane-border-status top

# Colour of label changes with active pane:
# - active: colour45
# - inactive: colour238
set -g pane-border-format '#{?pane_active,#[fg=colour45],#[fg=colour238]} #P #{b:pane_current_path} #[default]'
